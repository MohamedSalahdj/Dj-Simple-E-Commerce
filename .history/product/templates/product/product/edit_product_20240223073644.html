{% extends "base.html" %}
{% load django_bootstrap5 %}

{% block content %}
    <h1 class='my-5 text-primary text-center'>Edit Product</h1>
    <div class='container'>
      <div class='w-50 mx-auto border rounded p-5'>
        <form method="post" class="form" enctype="multipart/form-data" id="editForm">
            {% csrf_token %}
        
            {% bootstrap_form form %}
        
            <button type='submit' class='d-block mt-2 btn btn-warning w-75 mx-auto'> Edit</button>
          
        </form>
      </div>
    </div>

  
    {% block jsfiles %}

    <script>
      document.getElementById('editForm').addEventListener('submit', function(event) {
          const name = document.getElementById('id_name').value.trim();
          const image = document.getElementById('id_image').value.trim();
          const category = document.getElementById('id_category').value;
  
          let valid = true;
  
          // Clear previous error messages
          document.getElementById('nameError').textContent = '';
          document.getElementById('categoryError').textContent = '';
  
          if (name === '') {
              document.getElementById('nameError').textContent = 'Please enter a name.';
              valid = false;
          }
  
          if (category === '') {
              document.getElementById('categoryError').textContent = 'Please select a category.';
              valid = false;
          }
  
          if (!valid) {
              event.preventDefault(); // Prevent form submission
          }
      });
  </script>
    {% endblock jsfiles%}




{% endblock content %}
